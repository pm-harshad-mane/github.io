(()=>{"use strict";var e,t,n,r,o,a={870:(e,t,n)=>{n.d(t,{Jj:()=>l,Ud:()=>p});const r=Symbol("Comlink.proxy"),o=Symbol("Comlink.endpoint"),a=Symbol("Comlink.releaseProxy"),s=Symbol("Comlink.thrown"),i=e=>"object"==typeof e&&null!==e||"function"==typeof e,c=new Map([["proxy",{canHandle:e=>i(e)&&e[r],serialize(e){const{port1:t,port2:n}=new MessageChannel;return l(e,t),[n,[n]]},deserialize:e=>(e.start(),p(e))}],["throw",{canHandle:e=>i(e)&&s in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function l(e,t=self){t.addEventListener("message",(function n(o){if(!o||!o.data)return;const{id:a,type:i,path:c}=Object.assign({path:[]},o.data),p=(o.data.argumentList||[]).map(y);let f;try{const t=c.slice(0,-1).reduce(((e,t)=>e[t]),e),n=c.reduce(((e,t)=>e[t]),e);switch(i){case 0:f=n;break;case 1:t[c.slice(-1)[0]]=y(o.data.value),f=!0;break;case 2:f=n.apply(t,p);break;case 3:f=function(e){return Object.assign(e,{[r]:!0})}(new n(...p));break;case 4:{const{port1:t,port2:n}=new MessageChannel;l(e,n),f=function(e,t){return m.set(e,t),e}(t,[t])}break;case 5:f=void 0}}catch(e){f={value:e,[s]:0}}Promise.resolve(f).catch((e=>({value:e,[s]:0}))).then((e=>{const[r,o]=h(e);t.postMessage(Object.assign(Object.assign({},r),{id:a}),o),5===i&&(t.removeEventListener("message",n),u(t))}))})),t.start&&t.start()}function u(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function p(e,t){return d(e,[],t)}function f(e){if(e)throw new Error("Proxy has been released and is not useable")}function d(e,t=[],n=function(){}){let r=!1;const s=new Proxy(n,{get(n,o){if(f(r),o===a)return()=>w(e,{type:5,path:t.map((e=>e.toString()))}).then((()=>{u(e),r=!0}));if("then"===o){if(0===t.length)return{then:()=>s};const n=w(e,{type:0,path:t.map((e=>e.toString()))}).then(y);return n.then.bind(n)}return d(e,[...t,o])},set(n,o,a){f(r);const[s,i]=h(a);return w(e,{type:1,path:[...t,o].map((e=>e.toString())),value:s},i).then(y)},apply(n,a,s){f(r);const i=t[t.length-1];if(i===o)return w(e,{type:4}).then(y);if("bind"===i)return d(e,t.slice(0,-1));const[c,l]=g(s);return w(e,{type:2,path:t.map((e=>e.toString())),argumentList:c},l).then(y)},construct(n,o){f(r);const[a,s]=g(o);return w(e,{type:3,path:t.map((e=>e.toString())),argumentList:a},s).then(y)}});return s}function g(e){const t=e.map(h);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const m=new WeakMap;function h(e){for(const[t,n]of c)if(n.canHandle(e)){const[r,o]=n.serialize(e);return[{type:3,name:t,value:r},o]}return[{type:0,value:e},m.get(e)||[]]}function y(e){switch(e.type){case 3:return c.get(e.name).deserialize(e.value);case 0:return e.value}}function w(e,t,n){return new Promise((r=>{const o=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===o&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:o},t),n)}))}},736:(e,t,n)=>{n.a(e,(async e=>{var t=n(870);t.Jj(class{async getConfig(){return console.log("In Worker: getConfig",arguments),window[r].getConfig(...arguments)}async setConfig(){console.log("In Worker: setConfig",arguments),window[r].setConfig(...arguments)}async addAdUnits(){console.log("In Worker: addAdUnits",arguments),window[r].addAdUnits(...arguments)}async getAdserverTargeting(){return window[r].getAdserverTargeting(...arguments)}async requestBids(e,t){e.bidsBackHandler=function(){console.log("bidsBackHandler",arguments);let e=Array.prototype.slice.call(arguments);Object.keys(e[0]).forEach((function(t){e[0][t].bids=e[0][t].bids.map((function(e){return Object.keys(e).forEach((function(t){"function"==typeof e[t]&&delete e[t]})),e}))})),t(...e)},console.log("In Worker: requestBids",arguments),window[r].requestBids(...arguments)}async callBackFunction(e){e("i hope this works...")}}),await async function(){const e=t.Ud(self),n=await new e;self.topFrameInstance=n}(),self.document={_cookie:"",get cookie(){return this._cookie},set cookie(e){this._cookie+=e,console.log("need to set cookie with given value",e),topFrameInstance.setCookie(e)},location:self.location,createElement:function(e){switch(e){case"a":return{href:"",origin:""};default:return{}}},domain:"publisher.com"},self.window={top:self,self,location:self.location,navigator:self.navigator,document:self.document,screen:{width:1680,height:1050},XMLHttpRequest:self.XMLHttpRequest},self.screen=self.window.screen,self.Image=class{constructor(){}set src(e){console.log("need to create an Image pixel with given url",e),topFrameInstance.triggerImagePixelWithUrl(e)}};const r="pbjs";importScripts("prebid.js"),self[r]=window[r],window.pbjs.onEvent("auctionDebug",(function(){console.log("auctionDebug",arguments)})),topFrameInstance.executePBJSQ(),e()}),1)}},s={};function i(e){if(s[e])return s[e].exports;var t=s[e]={exports:{}};return a[e](t,t.exports,i),t.exports}e="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n=e=>{e&&(e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},r=e=>!--e.r&&e(),o=(e,t)=>e?e.push(t):r(t),i.a=(a,s,i)=>{var c,l,u,p=i&&[],f=a.exports,d=!0,g=!1,m=(t,n,r)=>{g||(g=!0,n.r+=t.length,t.map(((t,o)=>{t[e](n,r)})),g=!1)},h=new Promise(((e,t)=>{u=t,l=()=>{e(f),n(p),p=0}}));h[t]=f,h[e]=(e,t)=>{if(d)return r(e);c&&m(c,e,t),o(p,e),h.catch(t)},a.exports=h,s((a=>{if(!a)return l();var s,i;c=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var s=[];a.then((e=>{i[t]=e,n(s),s=0}));var i={[e]:(e,t)=>{o(s,e),a.catch(t)}};return i}}return{[e]:e=>{r(e)},[t]:a}})))(a);var u=new Promise(((e,n)=>{(s=()=>e(i=c.map((e=>e[t])))).r=0,m(c,s,n)}));return s.r?u:i})).then(l,u),d=!1},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i(736)})();