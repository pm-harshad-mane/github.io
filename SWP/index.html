<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Systematic Withdrawal Plan Calculator</title>
</head>
<body>
    <h2>Systematic Withdrawal Plan Calculator</h2>
    <form id="calculator-form">
        <label for="investment">Investment Amount:</label>
        <input type="number" id="investment" name="investment" required><br><br>
        <label for="monthlyWithdrawal">Monthly Withdrawal Amount:</label>
        <input type="number" id="monthlyWithdrawal" name="monthlyWithdrawal" required><br><br>
        <label for="withdrawalIncrease">Increase Monthly Withdrawal Amount Every Year By (%):</label>
        <input type="number" id="withdrawalIncrease" name="withdrawalIncrease" required><br><br>
        <label for="years">Years to Stay Invested:</label>
        <input type="number" id="years" name="years" required><br><br>
        <label for="returns">Expected Returns on MF Investment Per Year (%):</label>
        <input type="number" id="returns" name="returns" required><br><br>
        <button type="button" onclick="calculateSWP()">Calculate</button>
    </form>
    <br>
    <div id="results">
        <table border="1" id="resultsTable">
            <thead>
                <tr>
                    <th>Year</th>
                    <th>Monthly Withdrawal Amount</th>
                    <th>Current Value of Invested Amount</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <script>
        function calculateSWP() {
            // Get input values
            const investment = parseFloat(document.getElementById('investment').value);
            const monthlyWithdrawal = parseFloat(document.getElementById('monthlyWithdrawal').value);
            const withdrawalIncrease = parseFloat(document.getElementById('withdrawalIncrease').value) / 100;
            const years = parseInt(document.getElementById('years').value);
            const returns = parseFloat(document.getElementById('returns').value) / 100;
            
            // Clear previous results
            const tableBody = document.querySelector('#resultsTable tbody');
            tableBody.innerHTML = '';
            
            // Initialize variables
            let currentInvestment = investment;
            let currentMonthlyWithdrawal = monthlyWithdrawal;
            
            // Calculate results
            for (let year = 1; year <= years; year++) {
                const annualWithdrawal = currentMonthlyWithdrawal * 12;
                currentInvestment -= annualWithdrawal;
                currentInvestment *= (1 + returns);
                
                // Create a new row and cells
                const row = document.createElement('tr');
                const yearCell = document.createElement('td');
                const withdrawalCell = document.createElement('td');
                const investmentCell = document.createElement('td');
                
                // Set cell values
                yearCell.textContent = year;
                withdrawalCell.textContent = currentMonthlyWithdrawal.toFixed(2);
                investmentCell.textContent = currentInvestment.toFixed(2);
                
                // Append cells to row
                row.appendChild(yearCell);
                row.appendChild(withdrawalCell);
                row.appendChild(investmentCell);
                
                // Append row to table body
                tableBody.appendChild(row);
                
                // Increase monthly withdrawal for next year
                currentMonthlyWithdrawal *= (1 + withdrawalIncrease);
            }
        }
    </script>
</body>
</html>
